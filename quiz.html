<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Online Quiz</title>
  <link rel="stylesheet" href="quiz.css">
  <link rel="manifest" href="manifest.json">
<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/service-worker.js");
  }
</script>

</head>
<body>
  <header>
    <h3 id="studentName">Welcome, Student</h3>
    <button class="btn btn-danger" onclick="handleLogout()">Logout</button>
  </header>

  <main class="main-container">
    <!-- Instructions Panel -->
    <section class="panel instructions-container visible" id="instructionsContainer">
  <h2>Quiz Instructions</h2>
<ul>
  <li>All questions are in <strong>MCQ format</strong>.</li>
  <li><strong>Webcam access is mandatory</strong> during the quiz.</li>
  <li>Do <strong>not switch tabs</strong> or minimize the browser window.</li>
  <li>Select <strong>only one option</strong> for each question.</li>
  <li>You can <strong>navigate between questions</strong> before final submission.</li>
  <li>Once submitted, <strong>answers cannot be changed</strong>.</li>
  <li>The quiz has a fixed <strong>time limit</strong>; manage your time carefully.</li>
  <li>Use a stable internet connection and supported browsers: <strong>Chrome, Firefox, Edge</strong>.</li>
  <li>Attempt the quiz <strong>honestly</strong>. Cheating may lead to disqualification.</li>
</ul>
      <button class="btn btn-primary" id="startQuizBtn">Start Test</button>
    </section>

    <!-- Quiz Container -->
    <section class="panel quiz-container hidden" id="quizContainer">
      <div class="quiz-header">
        <h3>Question</h3>
        <div class="countdown-container">
          <div class="countdown" id="timer">Time Left: 60:00</div>
          <div class="timer-progress">
            <div class="timer-progress-bar" id="timerProgress"></div>
          </div>
        </div>
      </div>

      <div id="loader" style="text-align:center; padding:40px 0; display:none;">
        <div class="spinner"></div>
        <p style="margin-top:15px;">Loading questions, please wait...</p>
      </div>

      <form id="quizForm">
        <fieldset id="questionContainer" class="question-slide hidden" style="border:none;"></fieldset>
      </form>

      <div class="controls">
        <button class="btn btn-secondary" id="prevBtn">Previous</button>
        <button class="btn btn-primary" id="nextBtn">Next</button>
        <button class="btn btn-success" id="submitBtn" style="display:none;">Submit Quiz</button>
      </div>
      <div id="toastContainer"></div>
      <!-- Confirmation Modal -->
<div id="confirmModal" class="modal">
  <div class="modal-content">
    <p id="confirmMessage">Are you sure?</p>
    <div class="modal-actions">
      <button id="confirmYes" class="btn btn-primary">Yes</button>
      <button id="confirmNo" class="btn btn-secondary">No</button>
    </div>
  </div>
</div>

    </section>

    <!-- Sidebar Question Palette -->
    <aside class="panel sidebar hidden" id="sidebar">
      <div id="tabSwitchCount">Tab Switches: 0</div>
      <h3>Question Palette</h3>
      <nav class="question-nav" id="questionNav"></nav>
    </aside>
  </main>

  <!-- Webcam Feed -->
  <div class="webcam-container hidden" id="webcamContainer">
    <h4>Webcam Feed</h4>
    <video id="webcam" autoplay playsinline></video>
  </div>

  <script src="quiz.js"></script>
</body>
</html>
